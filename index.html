<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Basic
             –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">

        <!-- OpenGraph
             –––––––––––––––––––––––––––––––––––––––––––––––––– -->

        <!-- Twitter Card
             –––––––––––––––––––––––––––––––––––––––––––––––––– -->

        <!-- CSS
             –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <!-- <link rel="stylesheet" type="text/css" href="" rel="stylesheet" /> -->

        <!-- Favicon
             –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <title>Sigma.js Demo</title>

        <style type="text/css">
         body {
             margin: 0;
         }
         #container {
             position: absolute;
             width: 90%;
             height: 90%;
             background-color: #fff;
         }
        </style>
    </head>
    <body>
        <div id="container"></div>
        <script src="bower_components/sigma_latest/build/sigma.min.js"></script>
        <script src="bower_components/sigma_latest/build/plugins/sigma.layout.forceAtlas2.min.js"></script>
        <script src="bower_components/sigma_latest/build/plugins/sigma.plugins.animate.min.js"></script>
        <script>
         
         var i,
             s,
             o,
             L = 10,
             N = 25,
             E = 100,
             g = {
                 nodes: [],
                 edges: []
             };
         
         // nodes
         for (i = 0; i < N; i++) {
             o = {
                 id: 'n' + i,
                 //label: 'Node ' + i,
                 label: null,
                 x: Math.random(),
                 y: Math.random(),
                 size: ((Math.random() * 5 | 0) % 5) + 3,
                 color: '#348899'
             };
             g.nodes.push(o);
         }

         // edges
         for (i = 0; i < E; i++) {
             g.edges.push({
                 id: 'e' + i,
                 source: 'n' + (Math.random() * N | 0),
                 target: 'n' + (Math.random() * N | 0),
                 size: 0.5,
                 color: '#dcdcdc',
                 type: 't'
             })
         }

         // init sigma object
         s = new sigma({
             graph: g,
             renderer: {
                 container: document.getElementById('container'),
                 type: 'canvas'
             },
             settings: {
                 doubleClickEnabled: false,
                 enableEdgeHovering: true,
                 edgeHoverColor: 'default',
                 defaultEdgeHoverColor: '#979c9c',
                 edgeHoverSizeRatio: 2,
                 edgeHoverExtremities: true,

                 borderSize: 2,
                 //defaultNodeBorderColor: '#343642',
                 defaultNodeBorderColor: '#6fd862',
                 nodeHoverColor: 'node',
                 
             }
         });
         
         function signalContact(id, duration, sigInst) {
             var edge = sigInst.graph.edges(id);
             var source = sigInst.graph.nodes(edge.source);
             var target = sigInst.graph.nodes(edge.target);

             var edge_orig_color = edge.color;
             var src_orig_color = source.color;
             var src_orig_size = source.size;
             var trg_orig_color = target.color;
             var trg_orig_size = target.size;

             //edge.color = '#6fd862';
             edge.color = '#f00';
             sigInst.refresh();
             
             setTimeout(function() {
                 edge.color = edge_orig_color;
                 sigInst.refresh();
             }, duration);
             

             /*
             var src_data = {
                 node: source,
             };
             
             var trg_data = {
                 node: target,
             };
             */
                 
             //sigInst.renderers[0].dispatchEvent('overNode', src_data);
             //sigInst.renderers[0].dispatchEvent('overNode', trg_data);
             //sigInst.renderers[0].dispatchEvent('outNode', data);
             
             //console.log(source);
             //not working...
             //edge.size = 10;

             sigInst.refresh();
         }

         // refresh display
         s.refresh();

         // start forceAtlas animation
         s.startForceAtlas2();

         // stop forceAtlas animation after 1.5 secs
         
         setTimeout(function() {
             s.stopForceAtlas2();
         }, 1500);
         

         // signalContact test

         signalContact('e10', 400, s);

         setInterval(function() {
             // create counter
             // increment and modulo
             // select 'e' + counter
             // signalContact
         }, 200);

        </script>
    </body>
</html>
p
