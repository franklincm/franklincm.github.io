<!DOCTYPE html>
<html>
    <head>
      <meta charset="UTF-8">
      <!-- Bootstrap -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" media="screen" href="/css/bootstrap.min.css">
      <link href="/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
      <!-- syntax highlighting -->
      <link rel="stylesheet" href="/css/pygments/native.css">
      <!-- Overrides -->
      <link rel="stylesheet" href="/css/layout.css">
      <link rel="stylesheet" href="/css/chemistryregular.css">
      <link rel="stylesheet" href="/css/solarized-light.css">
      <link rel="stylesheet" href="/css/navtree-ascii-solarized-light.css">
      <link rel="stylesheet" href="/css/powerline-solarized-light.css">
      <link rel="icon" href="/img/favicon.ico?v=2" sizes="16x16 24x24 32x32 64x64" type="image/vnd.microsoft.icon">
      <!-- mathjax -->
      <script type="text/javascript" src="/js/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <title>Arch Linux base install - miscBitsOfData</title>
    </head>
    <body>

        <div class="container">
            <a href="/"><h1 class="title">// miscbitsofdata</h1></a>

            <div class="main">
                <div class="side">
		    <div class="navtree-ascii">
    <span class="nav drop">[-]&nbsp;~/<br />
	&nbsp;|~&nbsp;<a href="/">posts</a><br />
        &nbsp;|&nbsp;&nbsp;|<br />
	&nbsp;|&nbsp;&nbsp;`-<a href="/by-year">by year</a><br />
        &nbsp;|<br />
	&nbsp;|~&nbsp;odds & ends<br />
        &nbsp;|&nbsp;&nbsp;|<br />
	&nbsp;|&nbsp;&nbsp;`-<a href="/calendar/index.php">calendar</a><br />
	&nbsp;|<br />
	&nbsp;`~&nbsp;<a href="/tags/index.html">tags</a><br />
    </span>
    <span class="nav fill">
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
      ~<br />
    </span>
</div>

                </div>
                <div class="view ">
                    <div class="content">
			<div class="post">
    <h1>Arch Linux base install</h1>
    <date>16 Apr 2015</date>
    
    <hr />
    <p><em>to be update later...</em></p>

<h1>installation</h1>

<ol>
<li><p><strong><em>partition disks</em></strong></p>

<p>make sure to set legacy bios bootable. &#39;x&#39; - extra functionality then &#39;a&#39; - set attributes
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">gdisk
</code></pre></div>
</figure>
<em>you&#39;ll need to first create 512M partition if using UEFI, this doesn&#39;t cover that.</em></p></li>
<li><p><strong><em>format disks</em></strong></p>

<p>For each partition..
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">mkfs.btrfs /dev/sdXY
</code></pre></div>
</figure>
<em>Where X is the drive letter and Y is the partition number</em></p></li>
<li><p><strong><em>mount partitions</em></strong></p>

<p>Assuming partition table:</p>

<p>/dev/sda2 -&gt; /</p>

<p>/dev/sda1 -&gt; /boot</p>

<p>/dev/sda3 -&gt; /home</p>

<p>For example:
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">mount /dev/sda2 /mnt
mkdir /mnt/<span class="o">{</span>boot,home<span class="o">}</span>
mount /dev/sda1 /mnt/boot
mount /dev/sda3 /mnt/home
</code></pre></div>
</figure></p></li>
<li><p><strong><em>install base</em></strong></p>

<p><em>requires internet connectivity</em>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">pacstrap /mnt base base-devel
genfstab -p /mnt &gt;&gt; /mnt/etc/fstab
</code></pre></div>
</figure></p></li>
<li><p><strong><em>chroot</em></strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">arch-chroot /mnt
</code></pre></div>
</figure></p></li>
<li><p><strong><em>some standard stuff</em></strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash"><span class="nb">echo</span> <span class="s1">&#39;myHostName&#39;</span> &gt; /etc/hostname
ln -sf /usr/share/zoneinfo/America/Chicago /etc/localtime
vi /etc/locale.gen
</code></pre></div>
</figure></p>

<p>now uncomment both lines beginning:</p>

<p><strong>&quot;en_US&quot;</strong></p>

<p>then...
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">locale-gen
locale &gt; /etc/locale.conf
</code></pre></div>
</figure></p></li>
<li><p><strong><em>initram</em></strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">mkinitcpio -p linux
</code></pre></div>
</figure></p></li>
<li><p><strong><em>set root password</em></strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">passwd
</code></pre></div>
</figure></p></li>
<li><p><em>**add a user</em>*
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">useradd -m -G wheel -s /bin/bash myUserName
usermod -aG disk,lp,wheel,games,network,video,audio,optical,storage,scanner,power,users myUserName
passwd myUserName
</code></pre></div>
</figure></p></li>
<li><p><strong><em>syslinux</em></strong></p>

<p>your mileage will definitely vary here, this assumes not UEFI
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">pacman -S syslinux
syslinux-install_update -i -m
</code></pre></div>
</figure></p></li>
<li><p><strong><em>reboot</em></strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash"><span class="nb">exit</span>
umount /mnt/home
umount /mnt/boot
umount /mnt
reboot
</code></pre></div>
</figure></p></li>
</ol>

<p><em>remove media, hopefully all is well</em></p>

<h1>post-installation</h1>

<ol>
<li><p><strong><em>configure connectivity</em></strong></p>

<p>I can never remember exactly what the commands are here. I know I install <a href="https://wiki.archlinux.org/index.php/NetworkManager">NetworkManager</a>, configure it, and it does the rest.</p></li>
<li><p><strong><em>video/X11</em></strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">lspci<span class="p">|</span>grep VGA
</code></pre></div>
</figure></p>

<p>Likely either <strong>nvidia</strong>, <strong>intel</strong>, or <strong>radeon</strong>,</p>

<p>install <strong><em>ONE</em></strong> of the following accordingly
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">pacman -S xf86-video-nouveau
</code></pre></div>
</figure>
<strong>OR</strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">pacman -S xf86-video-intel
</code></pre></div>
</figure>
<strong>OR</strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">pacman -S xf86-video-ati
</code></pre></div>
</figure></p>

<p>Then...
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">pacman -S xorg-server xorg-server-common xorg-server-utils xorg-xinit
</code></pre></div>
</figure></p></li>
<li><p><strong><em>desktop</em></strong>
<figure class="code"><figcaption></figcaption>
<div class="highlight"><pre><code class="bash">pacman -S i3-wm i3status compton rxvt-unicode urxvt-perls
<span class="nb">echo</span> <span class="s1">&#39;exec dbus-launch i3&#39;</span> &gt; ~/.xinitrc
startx
</code></pre></div>
</figure></p></li>
</ol>

    <hr />

    
    <span class="random">/dev/random</span>
    <blockquote class="fortune"><pre>Oh, you think you're doing some damage? Two plus two is [static] â€¦
ten. In base four! I'm fine!
</pre></blockquote>
</div>

                    </div>
                </div>

            </div> <!-- main -->
	    <div class="powerline">
  <div class="text-left1">
    <a href="">&nbsp; mbod </a>
  </div>
  <div class="l1"></div>
  <div class="text-left2 hidden-xs hidden-sm ">Arch-Linux-base-install.html</div>
  <div class="l2"></div>
  <div class="git"></div>
  <div class="text-left3 hidden-xs">&nbsp;working</div>
  <div class="l3"></div>
  <div class="text-left4 hidden-xs">current</div>
  <div class="l4"></div>
  <span class=""><!-- center text --></span>
  <div class="text-right1">linux&nbsp;</div>
  <div class="r1"></div>
  <div class="text-right2 hidden-xs">programming</div>
  <div class="r2"></div>
  <div class="text-right3 hidden-xs hidden-sm">rants</div>
  <div class="r3"></div>
</div>

            <div class="footer">&copy; 2014 miscbitsofdata.com</div>
        </div><!-- container -->

      <!--  bootstrap js  -->
<script type="text/javascript" src="/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/eHeight.js"></script>
<script type="text/javascript" src="/js/aHeight.js"></script>
<!-- <script type="text/javascript" src="/js/fill.js"></script> -->

    </body>
</html>
